<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>cube move</title>

    <link rel="stylesheet" href="./bootstrap-4.6.1-dist/css/bootstrap.css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
      integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
      integrity="sha512-Fo3rlrZj/k7ujTnHg4CGR2D7kSs0v4LLanw2qksYuRlEzO+tcaEPQogQ0KaoGN26/zrn20ImR1DfuLWnOo7aBA=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <style>
      .wrap {
        width: 800px;
        height: 400px;
        background-color: #eee;
        position: relative;
        margin: 0 auto;
      }

      .box {
        width: 100px;
        height: 100px;
        background-color: lightskyblue;
        position: absolute;
        top: 0;
        left: 0;
      }

      .back {
        position: absolute;
        right: 5%;
        bottom: 5%;
      }
      .btn-back {
        width: 60px;
        height: 45px;
        background-color: rgb(0, 0, 0);
        border-radius: 5px;
        padding: 10px 20px;
        color: white;
      }
      a {
        text-decoration: none;
      }
    </style>
  </head>

  <body>
    <div class="container mt-3">
      <div class="row">
        <div class="col-12">
          <h5 class="text-center">使用鍵盤或滑鼠點擊方向按鈕</h5>
        </div>
      </div>
    </div>
    <div class="container mt-5">
      <div class="wrap">
        <div class="box"></div>
      </div>

      <div class="text-center">
        <div>
          <button class="btn btn-dark my-1" id="btnUp">
            <i class="fas fa-caret-up"></i>
          </button>
        </div>

        <div>
          <button class="btn btn-dark mx-4" id="btnLeft" class="mx-3">
            <i class="fas fa-caret-left"></i>
          </button>
          <button class="btn btn-dark mx-4" id="btnRight" class="mx-3">
            <i class="fas fa-caret-right"></i>
          </button>
        </div>

        <div>
          <button class="btn btn-dark my-1" id="btnDown" class="mx-3">
            <i class="fas fa-caret-down"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="back">
      <a href="index.html" class="btn-back">back</a>
    </div>
    <!-- 導入 script -->
    <script src="./js/jquery-3.6.0.js"></script>
    <script src="./bootstrap-4.6.1-dist/js/bootstrap.bundle.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.6.0.js"
      integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
      crossorigin="anonymous"
    ></script>
    <script>
      // 滑鼠事件
      $("#btnRight").click(function () {
        if (parseInt($(".box").css("left")) === 700) {
          $(".box").css("left", "+=0");
        } else {
          console.log("Right", parseInt($(".box").css("left")));
          $(".box").css("left", "+=100");
        }
      });

      $("#btnLeft").click(function () {
        if (parseInt($(".box").css("left")) === 0) {
          $(".box").css("left", "-=0");
        } else {
          console.log("Left", parseInt($(".box").css("right")));
          $(".box").css("left", "-=100");
        }
      });

      $("#btnUp").click(function () {
        if (parseInt($(".box").css("top")) === 0) {
          $(".box").css("left", "-=0");
        } else {
          console.log("top", parseInt($(".box").css("top")));
          $(".box").css("top", "-=100");
        }
      });

      $("#btnDown").click(function () {
        if (parseInt($(".box").css("top")) === 300) {
          $(".box").css("left", "+=0");
        } else {
          console.log("bottom", parseInt($(".box").css("bottom")));
          $(".box").css("top", "+=100");
        }
      });

      //鍵盤事件
      $(document).on("keydown", function () {
        console.log("hi", event.which);

        switch (event.which) {
          case 37:
            if (parseInt($(".box").css("left")) === 0) {
              $(".box").css("left", "-=0");
            } else {
              console.log($(".box").css("right"));
              $(".box").css("left", "-=100");
            }
            break;

          case 39:
            if (parseInt($(".box").css("left")) === 700) {
              $(".box").css("left", "+=0");
            } else {
              console.log($(".box").css("left"));
              $(".box").css("left", "+=100");
            }
            break;

          case 38:
            if (parseInt($(".box").css("top")) === 0) {
              $(".box").css("left", "-=0");
            } else {
              console.log($(".box").css("top"));
              $(".box").css("top", "-=100");
            }
            break;

          case 40:
            if (parseInt($(".box").css("top")) === 300) {
              $(".box").css("left", "+=0");
            } else {
              console.log($(".box").css("bottom"));
              $(".box").css("top", "+=100");
            }
            break;
        }
      });
    </script>
  </body>
</html>
